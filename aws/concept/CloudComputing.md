# 1. 클라우드 컴퓨팅이란?

* IT 리소스를 인터넷을 통해 온디맨드로 제공하고 사용한 만큼만 비용을 지불하는 것

# 2. 클라우드 컴퓨팅 종류

## 1. 어플리케이션의 구성

* 어플리케이션
* OS: Windows/Linux
* Computing: CPU + RAM
* Storage: HDD/SDD
* Network: 랜카드/랜선

## 2. 클라우드 컴퓨팅 모델

* IaaS:
    * 인프라만 제공
    * OS를 직접 설치하고 필요한 소프트웨어를 개발해서 사용
    * 즉 가상의 컴퓨터를 하나 임대하는 것과 비슷함
    * Network + Storage + Computing
    * 예: AWS EC2
* PaaS
    * 인프라 + OS + 기타 프로그램 실행에 필요한 부분(런타임)
    * 바로 코드만 올려서 돌릴 수 있도록 구성
    * Network + Storage + Computing + OS
    * 예: Firebase, Google App Engines
* SaaS
    * 인프라 + OS + 필요한 소프트웨어가 제공됨
    * 서비스 자체를 제공
    * 다른 세팅 없이 서비스만 이용
    * Network + Storage + Computing + OS + APP
    * 예: Gmail, DropBox, Slack, Google Docs

## 3. 클라우드 컴퓨팅 배포 모델

* 공개형(클라우드)
    * 모든 부분이 클라우드에서 실행
    * 낮은 비용
    * 높은 확장성
* 폐쇄형
    * 높은 수준의 커스터마이징 가능
    * 초기 비용이 비쌈
    * 유지보수 비용이 비쌈
    * 높은 보안
* 혼합형(하이브리드)
    * 폐쇄형과 공개형의 혼합
    * 폐쇄형에서 공개형으로 전환하는 과도기에 사용
    * 혹은 폐쇄형의 백업으로 사용

# 3. AWS

## 1. 리전(Region)

* 개요
    * AWS의 서비스가 제공되는 서버의 물리적 위치
    * 전 세계에 흩어져있으며 큰 구분으로 묶여 있음
    * 각 리전에는 고유의 코드가 부여됨
        * 예시: 서울 리전은 ap-northeast-2
        * 예시2: 미국 동부(버지니아 북부)리전은 us-east-1
    * 리전별로 가능한 서비스가 다름
* 리전을 선택할 때 고려할 점
    * 지연 속도
    * 법률(데이터, 서비스 제공 관련)
    * 사용 가능한 AWS 서비스

## 2. 가용영역(Availability Zone)

* 개요
    * 리전의 하부 단위
        * 하나의 리전은 반드시 2개 이상의 가용영역으로 구성
        * 하나 이상의 데이터 센터로 구성
        * 리전간의 연결은 매우 빠른 전용 네트워크로 연결
        * 반드시 물리적으로 일정 거리 떨어져 있음
            * 여러 재해에 대한 대비 및 보안
            * 다만 모든 AZ는 서로 100km 이내에 위치
        * 각 계정별로 AZ의 코드와 실제 위치는 다름
            * 예: 계정 Test1의 AZ-A는 계정 Test2의 AZ-A와 다른 위치(랜덤)
            * 보안 및 한 AZ로 몰림을 방지

## 3. 엣지 로케이션

* 개요
    * AWS의 CloudFront(CDN)등의 여러 서비스들을 가장 빠른 속도로 제공(캐싱)하기 위한 거점
    * 전 세계 여러 장소에 흩어져 있음

## 4. 글로벌 서비스와 리전 서비스

* AWS에서는 서비스가 제공되는 지역의 기반에 따라 글로벌 서비스와 리전 서비스로 분류
* 글로벌 서비스
    * 데이터 및 서비스를 전 세계의 모든 인프라가 공유
        * CloudFront
        * IAM
        * Route53
        * WAF
    * 지역 서비스
        * 특정 리전을 기반으로 데이터 및 서비스를 제공
            * 대부분의 서비스
            * S3
                * S3의 경우 전 세계에서 동일하게 사용할 수 있으나 데이터 자체는 리전에 종속: 리전 서비스

## 5. ARN

* Amazon Resource Name: AWS의 모든 리소스의 고유 아이디
* 맨 끝에 와일드카드(*)를 사용하여 다수의 리소스를 지정 가능

# 4. AWS 계정

## 1. Root User

* 생성한 게정의 모든 권한을 자동으로 가지고 있음
* 생성시 만든 이메일 주소로 로그인
* 탈취당했을 때 복구가 매우 힘듬: 사용을 자제하고 MFA 설정 필요
* 루트 유저는 관리용으로만 이용: 계정 설정 변경, 빌링 등
* AWS API 호출 불가(AccessKey/Secret AccessKey 부여 불가)

## 2. IAM User

* IAM(Identity and Access Management)을 통해 생성한 유저
* 만들때 주어진 아이디로 로그인
* 기본 권한 없음: 따로 권한을 부여해야 함
    * 예: 관리자 IAM User, 개발자 IAM User, 디자이너 IAM User, 회계팀 IAM User
* 꼭 사람이 아닌 어플리케이션 등의 가상의 주체를 대표할 수 도 있음
* AWS API 호출 가능
    * AccessKey: 아이디 개념
    * Secret Access Key: 패스워드 개념
* AWS의 관리를 제외한 모든 작업은 관리용 IAM User를 만들어 사용
* 권한 부여시 루트 유저와 같이 모든 권한을 가질 수 있지만 빌링 관련 권한은 루트 유저가 허용해야 함

# 5. IAM

## 1. IAM 소개

* AWS 어카운트 관리 및 리소스/사용자/서비스의 권한 제어
    * 서비스 사용을 위한 인증 정보 부여
* 사용자의 생성 및 관리 및 계정의 보안
    * 사용자의 패스워드 정책 관리(일정 시간마다 패스워드 변경 등)
* 다른 계정과의 리소스 공유
    * Identity Federation(Facebook 로그인, 구글 로그인 등)
* 계정에 별명 부여 가능 -> 로그인 주소 생성 가능
* IAM은 글로벌 서비스(Region별 서비스가 아님)

## 2. IAM 구성

### 1. 사용자

* 실제 AWS를 사용하는 살마 혹은 어플리케이션을 의미

### 2. 그룹

* 사용자의 집합
* 그룹에 속한 사용자는 그룹에 부여된 권한을 행상

### 3. 정책(Policy)

* 사용자와 그룹, 역할이 무엇을 할 수 있는지에 관한 문서
* JSON 형식으로 정의

### 4. 역할(Role)

* AWS 리소스에 부여하여 AWS 리소스가 무엇을 할 수 있는지를 정의
* 혹은 다른 사용자가 역할을 부여받아 사용
* 다른 자격에 대해서 신뢰 관계를 구축 가능
* 역할을 바꾸어 가며 서비스를 사용 가능

### 5. 모범 사용 사례

* 루트 사용자는 사용하지 않기
* 불필요한 사용자는 만들지 않기
* 가능하면 그룹과 정책을 사용하기
* 최소한의 권한만을 허용하는 습관을 들이기(Principle of least privilege)
* MFA를 활성화하기
* AccessKey 대신 역할을 활용
* IAM 자격 증명 보고소(Credential Report) 활용하기

# 6. 가상화

* 단일 컴퓨터의 하드웨어 요소를 일반적으로 가상 머신(VM)이라고 하는 다수의 가상 컴퓨터로 분할할 수 있도록 해주는 기술
* 선수 지식
    * 운영체제(OS): 시스템 하드웨어 자원과 소프트웨어 자원을 운영 관리하는 프로그램
    * 특권 명령(privileged instruction): 시스템 요소들과 소통할 수 있는 명령 - OS만 가능
        * OS는 특권 명령 때문에 하나의 하드웨어 시스템당 하나밖에 돌아갈 수 없음
        * 일반 프로그램은 특권 명령이 필요없기 때문에 많은 프로그램을 동시에 수행 가능
    * 가상화가 나타나기 전까지는 하나의 하드웨어 시스템은 하나의 OS만 실행이 가능했음
        * 즉 일반적인 컴퓨터처럼 직접 OS가 하드웨어에 설치된 상태(Bare-Metal)로만 운영 가능했었음
* 가상화와 클라우드
    * AWS 클라우드 환경에서 리소스를 작은 단위로 빠르게 구성할 수 있는 원동력은 가상화
    * 즉 AWS에서 사용자마다 컴퓨터를 할당해주는 것이 아닌 이미 구축된 가상화 가능한 서버의 한 부분을 할당해주는 것