# 1. 네트워크를 이루는 장치

## 1. 애플리케이션 계층

### L7 스위치

* 로드밸런서라고 하며 서버의 부하를 분산하는 기기
* 서버 이중화, 보안에 강점이 있는 기기
* IP, Port뿐만이 아니라 url, 헤더, 쿠키 등을 기반으로 트래픽 분산
* "헬스체크"를 통해 장애가 발생한 서버를 확인하고 해당 서버로 트래픽을 보내지 못하게 함

### 헬스체크

* L4 스위치 또는 L7 스위치 모두 헬스 체크를 통해 정상적인 서버 또는 비정상적인 서버를 판별
* 전송 주기와 재전송 횟수 등을 설정한 이후 반복적으로 서버에 요청을 보내는 것
* 참고로 AWS에서 L4는 NLB, L7는 ALB를 통해 구축

## 2. 전송 계층

### L4 스위치

* 패킷의 IP 주소와 포트 번호를 참고해 적절히 트래픽 분산
* TCP, UDP 등의 헤더를 기반으로 우선순위를 판단해 분산 가능
* L7 스위치와 같이 헬스 체크 가능

## 3. 인터넷 계층

### 라우터

* 라우팅은 하나 이상의 네트워크에서 경로를 선택하는 프로세스
* 다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 “패킷소모 최소화”, “경로 최적화＂하는 장비

### L3 스위치

* L2 스위치의 기능 + 라우터 역할
* 라우팅테이블을 참조해 IP패킷에 IP주소를 담아 보냄

## 4. 데이터 링크 계층

* 데이터 링크 계층은 ‘이더넷 프레임’을 통해 에러 확인, 흐름 제어, 접근 제어를 담당
* 물리 계층은 무선 LAN과 유선LAN을 통해 0과 1로 이루어진 데이터를 보내는 계층

### L2 스위치

* 장치들의 MAC 주소를 MAC 주소 테이블을 통해 관리
* 인터넷계층에서 받은 패킷을 기반으로 이더넷프레임을 만들어 목적지의 MAC주소로 패킷을 보냄

### 브리지

* 두 개의 근거리 통신망(LAN)을 상호 접속할 수 있도록 하는 통신망 연결 장치
* 통신망의 범위를 확장하고 서로 다른 LAN을 기반으로 하나의 통신망을 구축

## 5. 물리 계층

### NIC(Network Interface Card)

* LAN 카드라고 함
* 네트워크에 연결하기 위해 PC에 설치된 회로기판
* 이 장치에는 PC 고유의 식별번호인 MAC주소가 있음

### 리피터

* 들어오는 약해진 신호 정도를 증폭하여 다른 쪽으로 전달하는 장치

### AP(access point)

* 패킷을 복사하는 장치
* AP에 유선 LAN을 연결한 후 무선 LAN기술을 기반으로 무선 네트워크망을 구축

# 2. 유선LAN #1. 전이중화 통신, CSMA/CD

* 전이중화(full duplex) 통신은 양쪽 장치가 동시에 송수신할 수 있는 방식
* 동축케이블, 광케이블 등을 기반으로 만들어진 유선LAN을 이루는 이더넷은 IEEE802.3 프로토콜을 기반으로 전이중화 통신을 사용

## 1. 전이중화 통신

* 양쪽장치가 동시에 송수신할 수 있는 방식
* 송신로와 수신로를 나눠서 데이터를 주고 받을 수 있음

## 2. CSMA/CD

* 이전에는 유선 LAN에 ‘반이중화 통신’ 중 하나인 CSMA/CD(Carrier Sense Multiple Access with Collision Detection) 방식 사용
    * 회선을 사용하는지를 파악한 후 사용하지 않는다면 데이터를 보내고 충돌이 발생한다면 일정 시간 이후 재전송하는 방식

# 3. 유선LAN #2. 케이블

## 1. 트위스트페어 케이블

* 실드처리를 한 케이블이 STP
* 안한 케이블이 UTP 케이블

### LAN 케이블

* 유선LAN을 구축할 때 쓰는 케이블인 LAN케이블은 UTP 케이블

## 2. 광섬유 케이블

* 레이저를 이용해 통신하며 보통 100Gbps의 데이터를 전송하는 케이블
* 빛의 굴절률이 높은 부분을 코어
* 낮은 부분을 클래딩
* 다른 밀도를 가지는 유리나 플라스틱 섬유를 기반으로 제작
* 한번 들어간 빛이 내부에서 계속해서 반사하며 전진하여 반대편 끝까지 가는 원리를 이용함

# 4. 무선LAN #1. 반이중화 통신, CSMA/CA, 와이파이

## 1. 반이중화 통신(half duplex)

* 양쪽 장치는 서로 통신할 수 있지만, 동시에는 통신할 수 없으며 한 번에 한 방향만 통신할 수 있는 방식

### CSMA/CA

* 반이중화 통신 중 하나로 장치에서 데이터를 보내기 전에 일련의 과정을 기반으로 사전에 가능한 한 충돌을 방지하는 방식
* 통신 과정

1. 사용중인 채널이 있다면 다른 채널을 감지하다 유후 상태인 채널을 발견
2. 프레임간 공간 시간인 IFS(InterFrame Space)시간만큼 기다림. IFS는 프레임의 우선순위를 정의할 때도 사용됨. IFS가 낮으면 우선순위가 높음
3. 프레임을 보내기 전 0~2^k - 1 사이에서 결정된 랜덤상수를 기반으로 결정된 시간만큼 기다린 뒤 프레임을 보냄
4. 프레임을 보낸 뒤 제대로 송신되었고 ACK 세그먼트를 받았다면 마침
5. 받지 못했다면 k = k+1을 하며 이 과정을 반복
6. 반복하다가 k가 정해진 Kmax 보다 더 커진다면 해당 프레임 전송을 버림(abort)
   ![img_1.png](img_1.png)

## 2. 무선 LAN의 대표적 기술

### 와이파이(wifi)

* 전자기기들이 무선 LAN 신호에 연결할 수 있게 하는 기술
* 근거리 무선망이라고도 할 수 있지만 근거리 무선망은 블루투스, 지그비 등도 있기 때문에 엄밀히 말하면 틀린 말
* 보통 유선 LAN을 AP 또는 공유기에 꽂아서 무선 LAN 신호를 만들어 구축

# 5. 무선LAN #2. 주파수와 2.4GHz 와 5GHz의 차이

* 무선 LAN(WLAN, Wireless Local Area Network)는 무선 신호 전달 방식을 이용하여 2대 이상의 장치를 연결하는 기술
* 비유도 매체인 공기에 주파수를 쏘아 무선 통신망을 구축하는데, 주파수 대역은 2.4GHz 대역 또는 5GHz 대역 중 하나를 사용해 구축
* 2.4GHz
    * 장애물에 강하나 속도가 더 느림
    * 호환성 좋음(오래된 노트북, 휴대폰과도 연결 가능)
    * 커버리지가 높음
* 5GHz
    * 장애물이 있을 때 연결이 끊기기도 하나 속도가 더 빠름
    * 호환성이 낮음
    * 커버리지가 작음