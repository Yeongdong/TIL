# 목차

1. [네트워크, 처리량, 트래픽, 대역폭, RTT](#1-네트워크-처리량-트래픽-대역폭-rtt)
    1. [네트워크](#1-네트워크)
    2. [트래픽](#2-트래픽)
    3. [처리량(throughput)](#3-처리량throughput)
    4. [대역폭(bandwidth)](#4-대역폭bandwidth)
    5. [RTT(Round Trip Time)](#5-rttround-trip-time)

2. [네트워크 토폴로지: 버스, 스타, 트리, 링, 메시](#2-네트워크-토폴로지-버스-스타-트리-링-메시)
    1. [네트워크 토폴로지](#1-네트워크-토폴로지)
        1. [버스 토폴로지](#1-버스-토폴로지)
        2. [스타 토폴로지](#2-스타-토폴로지)
        3. [트리 토폴로지](#3-트리-토폴로지)
        4. [백본케이블](#4-백본케이블)
        5. [링 토폴로지](#5-링-토폴로지)
        6. [메시 토폴로지](#6-메시-토폴로지)
    2. [네트워크 토폴로지의 필요성과 병목현상](#2-네트워크-토폴로지의-필요성과-병목현상)
        1. [필요성](#1-필요성)
        2. [해결](#2-해결)

3. [유니캐스트, 멀티캐스트, 브로드캐스트](#3-유니캐스트-멀티캐스트-브로드캐스트)
    1. [유니캐스트](#1-유니캐스트)
    2. [멀티캐스트](#2-멀티캐스트)
    3. [브로드캐스트](#3-브로드캐스트)

4. [네트워크 분류: LAN, MAN, WAN](#4-네트워크-분류-lan-man-wan)
    1. [LAN](#1-lan)
    2. [MAN](#2-man)
    3. [WAN](#3-wan)

# 1. 네트워크, 처리량, 트래픽, 대역폭, RTT

## 1. 네트워크

* 노드(node)와 링크(link)가 서로 연결되어 있으며 리소스를 공유하는 집합
* 노드: 서버, 라우터, 스위치 등 네트워크 장치
* 링크(엣지): 유선 또는 무선과 같은 연결매체(와이파이나 LAN)

## 2. 트래픽

* 특정 시점에 링크 내의 "흐르는" 데이터의 양
* 서버에 저장된 파일(문서, 이미, 동영상 등)을 클라이언트(사용자)가 다운로드시 발생되는 데이터의 누적량을 뜻함
    * 트래픽이 많아졌다 = 흐르는 데이터가 많아졌다.
    * 처리량이 많아졌다 = 처리되는 트래픽이 많아졌다
* 단위: bps(bits per second)
* 100KB 이미지를 1000명이 다운로드시 누적 트래픽?
    * 100KB * 1000 = 100,000KB(100MB)
* 10MB 동명상을 10명이 다운로드시 누적 트래픽?
    * 10MB * 10 = 100MB

## 3. 처리량(throughput)

* 링크 내 성공적으로 전달된 데이터의 양
* 보통 얼만큼의 트래픽을 처리했는지를 나타냄
* 많은 트래픽을 처리한다 = 많은 처리량을 가진다
* 단위: bps(bits per second) 초당 전송 또는 수신되는 비트 수
* 처리량은 사용자들이 많이 접속할 때마다 커지는 트래픽, 네트워크 장치 간의 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향

## 4. 대역폭(bandwidth)

* 주어진 시간네트워크 연결을 통해 흐를 수 있는 최대 비트 수
* 최대로 처리할 수 있는 트래픽
* 100Mbps의 대역폭을 가진 서버가 있고 한 사용자당 100kbps로 동영상 파일을 요청한다. 최대 동접자수는?
    * 100Mbps / 100kbps = 약 1000명

## 5. RTT(Round Trip Time)

* 왕복 지연시간은 신호를 전송하고 해당 신호의 수신확인에 걸린 시간을 더한 값이나 어떤 메시지가 두 장치 사이를 왕복하는데 걸린 시간

# 2. 네트워크 토폴로지: 버스, 스타, 트리, 링, 메시

## 1. 네트워크 토폴로지

* 노드와 링크가 어떻게 구성되어있는지를 말하며 버스, 스타, 트리 등의 토폴로지가 있음

### 1. 버스 토폴로지

* 특징
    * 하나의 회선에 여러 개의 노드
    * 노드 추가, 삭제가 쉬움
    * 설치비용 적음
* 장점
    * 소규모 네트워크 구축에 매우 쉬움
    * 한 노드에 장애가 발생해도 다른 노드에 영향이 없음
* 단점
    * 메인 링크에 많은 트래픽이 생기면 정체현상 발생 가능성 높음(패킷 손실율 높음)
    * 메인 링크 망가지면 큰 문제

### 2. 스타 토폴로지

* 특징
    * 중앙에 있는 노드를 기반으로 연결된 형태
    * 노드 추가, 삭제 쉬움
* 장점
    * 중앙노드가 아닌 한 노드에 장애가 발생해도 다른 노드에 영향 없음
    * 안정성이 높음. 중앙노드가 아닌 한 노드에 침해가 발생했을 때 다른 노드로 확장하기 어렵기 때문.
    * 다른노드로 가려면 중앙노드를 무조건 거쳐야 하고 보통의 스타토폴로지는 중앙노드의 방화벽 등을 더욱 깐깐하게 해놓음
    * 한 링크에 문제가 생겨도 해당 부분만 영향을 받고 나머지 부분은 정상적으로 작동함
* 단점
    * 중앙노드 에러시 큰 문제

### 3. 트리 토폴로지

* 특징
    * 트리형태(계층적 토폴로지)
    * 노드 추가, 삭제 보통(리프노드를 기반으로 확장은 용이하지만 다른 노드는 어려움)
    * 버스 토폴로지와 스타토폴로지의 하이브리드 형태
* 장점
    * 노드의 확장이 용이(주로 리프노드로 확장)
    * 리프노드의 에러는 나머지 부분에 영향을 미치지 않음
* 단점
    * 특정 노드 트래픽 집중시 하위노드에 영향
    * 루트노드에 문제가 생기면 전체 네트워크에 큰 문제

### 4. 백본케이블

* 여러 소형 네트워크들을 묶어 대규모 파이프라인을 통해 극도로 높은 대역폭으로 다른 네트워크들의 집합과 연결되는 네트워크(대규모 패킷 통신망)

### 5. 링 토폴로지

* 특징
    * 고리 형태
    * 노드 추가, 삭제가 쉬움
* 장점
    * 노드 수가 많아져도 데이터 손실이 없음
    * 토큰을 기반으로 연속적으로 노드를 거치며 통신권한 여부를 따지고 해당 권한이 없는 노드는 데이터를 전달받지 않음
* 단점
    * 링크 또는 노드가 하나만 에러 발생해도 전체 네트워크에 영향
    * 토큰이 없는 노드는 토신에 참여를 못하며 데이터 공유가 안됨

### 6. 메시 토폴로지

* 특징
    * 그물망 형태
    * 노드 추가, 삭제 어려움
    * 풀(full)메시 토폴로지의 경우 n * (n-1) / 2 의 회선이 필요
* 장점
    * 안정성이 높음. 한 노드가 장애가 나도 다른 노드에 영향을 미치지 않음
    * 트래픽을 분산할 수 있음
* 단점
    * 회선이 비효율적으로 많기 대문에 구축비용이 고가임

## 2. 네트워크 토폴로지의 필요성과 병목현상

### 1. 필요성

* 토폴로지는 병목현상을 해결하는 척도가 됨
* 병목현상
    * 트래픽에 의해 데이터 흐름이 제한되는 상황
    * 핫스팟이라고도 함

### 2. 해결

* 구축된 시스템의 토폴로지를 알고 있다면 어떤 부분에 어떤 회선 또는 어떤 서버의 용량을 증가시켜야하는지 알 수 있음

# 3. 유니캐스트, 멀티캐스트, 브로드캐스트

## 1. 유니캐스트

* 1:1 통신
* 대표적으로 HTTP 통신
* 가장 일반적인 네트워크 전송 형태

## 2. 멀티캐스트

* 1:N 통신
* 연결된 모든 노드들에게 데이터를 전달하지는 않고 특정 그룹에게만 데이터를 전달

## 3. 브로드캐스트

* 1:N 통신
* 그룹이 아닌 연결되어있는 모든 노드에게 데이터를 전달
* ex) ARP
* 사용 예시(WebSocket을 활용한 채팅)

```java
import org.springframework.web.socket.TextMessage;
import org.springframework.web.socket.WebSocketSession;
import org.springframework.web.socket.handler.TextWebSocketHandler;

import java.util.ArrayList;
import java.util.List;

public class ChatWebSocketHandler extends TextWebSocketHandler {

    private List<WebSocketSession> sessions = new ArrayList<>();

    @Override
    public void afterConnectionEstablished(WebSocketSession session) throws Exception {
        sessions.add(session);
    }

    @Override
    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {
        // 받은 메시지를 모든 클라이언트에 브로드캐스트
        for (WebSocketSession webSocketSession : sessions) {
            if (webSocketSession.isOpen()) {
                webSocketSession.sendMessage(message);
            }
        }
    }

    @Override
    public void afterConnectionClosed(WebSocketSession session, org.springframework.web.socket.CloseStatus status) throws Exception {
        sessions.remove(session);
    }
}
```

# 4. 네트워크 분류: LAN, MAN, WAN

* LAN이 가장 작은 단위
* WAN이 가장 큰 단위
* 보통은 반경, 속도의 크기를 기반으로 분류

## 1. LAN

* Local Area Network, 근거리 통신망
* MAN, WAN보다 높은 안정성, 속도를 가진다
* 소규모 네트워크(집, 사무실) - 보통 허브나 스위치로 연결된 네트워크
* 하나의 논리적인 주소인 IP를 기반으로 여러 개의 물리적 주소인 MAC 주소로 구별하는 네트워크

## 2. MAN

* Metropolitan Area Network, 대도시 통신망
* 도시와 도시의 통신망
* 2개 이상의 LAN이 연결되어 구성
* 라우터, 브리지 등으로 연결되는 것이 특징

## 3. WAN

* Wide Area Network, 광역 통신망
* 국가와 국가와의 통신망(인터넷)
* 수많은 라우터를 거쳐 다른 국가와도 연결되는 범위