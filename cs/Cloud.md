# 1. 가상머신

## 가상화 배포방식

* 가상머신을 기반으로 배포
* 가상머신이란 컴퓨터의 하드웨어를 소프트웨어적으로 구현한 것
* 계정을 나누는 것이 아니라 한대의 컴퓨터를 가지고 여러개의 OS를 구동할 수 있게 되며 CPU, RAM을 물리적으로 갈아끼는 것이 아니라 설정만으로 이를 수행할 수 있게 됨
* 중간에 있는 하이퍼바이저는 하나의 시스템 상에서 가상 컴퓨터를 여러 개 구동할 수 있도록 해 주는 중간 계층
* 이 위에 여러개의 가상머신을 구축할 수 있고 가상머신 위에 OS 그리고 그 위에 앱이 올라가는 형태로 가상머신을 독립적으로 수행할 수 있음

# 2. 오프프레미스(off-premise)와 온프레미스(on-premise)

## 오프프레미스

* 내가 아닌 다른 회사의 공급자가 호스팅하고 인터넷을 통해 사용자에게 제공되는 인프라, 플랫폼 또는 소프트웨어

## 온프레미스

* 기업이나 개인이 자체 시설에서 보유하고 직접 유지 및 관리하는 프라이빗 데이터 센터(IDC)

# 3. IaaS, PaaS, SaaS

## 1. IaaS

* 클라우드가 단지 인프라를 제공
* 개발자가 직접 설치해야하는 대신 특정 서비스에 종속되지 않음
* ex) AWS EC2, NCP 등

## 2. PaaS

* 클라우드가 플랫폼을 제공
* 그저 클릭을 통해 해당 서비스 이용 가능
* 모니터링, CI/CD가 제공됨
* ex) HEROKU

## 3. SaaS

* 완전한 서비스를 클라우드서비스로부터 제공받아 사용
* ex) 구글 Docs

## ! IaaS vs PaaS

|        | IaaS | PaaS |
|--------|------|------|
| 유연성    | 높음   | 낮음   |
| 이식성    | 높음   | 낮음   |
| 운영 효율성 | 낮음   | 높음   |

# 4. 컨테이너와 도커

## 1. 컨테이너

* 애플리케이션이 한 컴퓨팅 환경에서 다른 컴퓨팅 환경으로 빠르고 안정적으로 실행되도록 코드와 모든 종속성을 패키징하는 소프트웨어의 표준 단위
* 컨테이너는 **OS를 공유**하기 때문에 빠르고, 경량화 되어있으며 격리성도 훌륭함
* 그러나 OS에 문제가 생기면 다른 앱에도 영향을 미칠 수 있음

## 2. 도커

* 컨테이너 배포에 필요한 거의 모든 기능을 제공하는 플랫폼
* 유연성, 이식성, 운영 효율성 모두 높음

### 1. 도커의 과정

1. **도커 파일**: 패키지, 환경변수 설정 등을 기록한 파일. 이를 빌드해 도커이미지로 변환
2. **도커 이미지**: 컨테이너 실행에 필요한 파일과 설정값, 데이터 등을 포함된 상태값이며 불변함  
   하나의 이미지에서 여러개의 컨테이너를 생성할 수 있으며 컨테이너의 상태와는 무관하게 이미지는 그대로 존재함  
   ex) 1대의 서버에 환경설정해야 한다면 미리 만들어 놓은 이미지를 다운받아서 이를 통해 컨테이너만 만들면 끝
3. **도커 컨테이너** : 컨테이너가 실행시키면 도커 이미지에 설정된 프로그램, 데이터 등이 실제 컴퓨팅자원과 연결

# 5. CI/CD

* 코드 구축부터 배포까지의 일련의 과정들
* 코드 배포까지 좀 더 체계적으로 만들 수 있고, 테스트가 강제됨
* 파이프라인 자체에 테스트가 있기 때문에 테스트가 없으면 코드 merge 자체가 안되게 만들 수도 있음

## 테스트

* 단위 테스트: 함수 등 작은 단위를 테스트
* 통합 테스트: 모듈을 통합할 때 테스트
* 엔드투엔드 테스트: 사용자가 서비스를 사용하는 상황을 가정해서 테스트
* 보안 테스트: 사용자가 공격할 때를 대비하는 테스트

## 머지

* git이나 svn을 이용해 머지. 요새는 git을 사용
* 충돌을 최소화하는 것이 중요
* 보통 작은 이슈 단위로 나눠서 머지
* 만약 충돌시 화면 공유하며 합의하에 충돌 해결

## 배포

* 사용자를 위한 서비스 배포
* 내부적으로 QA엔지니어나 관리자페이지를 위한 배포
* 데이터웨어하우스로부터 데이터를 가공해서 백엔드개발자를 위한 배포 등을 포함

## 툴
* GitHub actions
* Jenkins
* Circle ci
* heroku를 통해 CI, CD없이 자동 가능