# 목차

1. [연속 할당: 고정분할과 가변분할](#1-연속-할당-고정분할과-가변분할)

- [연속 할당](#연속-할당contiguous-memory-allocation)
    - [고정분할방식](#고정분할방식)
        - [내부단편화](#내부단편화)
    - [가변분할방식](#가변분할방식)
        - [외부단편화](#외부단편화)

2. [불연속 할당: 페이징, 세그멘테이션, 페이지드 세그멘테이션](#2-불연속-할당-페이징-세그멘테이션-페이지드-세그멘테이션)

- [불연속할당](#불연속할당)
    - [페이징](#페이징)
    - [세그먼테이션](#세그먼테이션)
    - [페이지드 세그먼테이션](#페이지드-세그먼테이션)

# 1. 연속 할당: 고정분할과 가변분할

* 프로그램에 필요한 메모리를 할당할 때 시작 메모리 위치, 메모리 할당 크기를 기반으로 할당하는데 이는 연속할당과 불연속할당으로 나뉨

## 연속 할당(Contiguous memory allocation)

* 메모리에 '연속적으로' 공간을 할당
* 사용 가능한 모든 메모리 공간이 같은 위치에 함께 있음
* 메모리 파티션이 전체 메모리 공간에서 여기저기서 분산되어있지 않음

### 고정분할방식

* fixed partition allocation 은 메모리를 미리 같은 크기로 분할해서 할당하는 방법
* 내부단편화(internal fragmentation)가 발생

#### 내부단편화

* 프로그램이 필요한 공간보다 더 많은 메모리가 할당되어 내부적으로 조각이 많이 생기는 것
* 추후에 프로그램에 필요한 메모리를 할당하지 못하는 현상 발생

### 가변분할방식

* variable partition allocation 은 프로그램에 필요한만큼 동적으로 할당하는 방법
* 메모리를 고정된 크기 블록으로 나누지 않고, 프로그램이 필요한 만큼의 메모리를 동적으로 할당
* 프로그램이 할당된 후 남은 공간은 새로운 가변 분할로 남겨지며, 이는 이후 다른 프로그램에 할당될 수 있음
* 내부단편화는 발생하지 않고 외부단편화가 발생할 수 있음

#### 외부단편화

* 동적으로 할당하다보면 동적으로 할당한 외부에 작은 조각들이 생기게 되는 현상
* 비어있는 조각(홀)들을 합한 메모리에 프로그램을 충족시킬 수 있지만 외부의 조각들이 되어있기 때문에 큰 프로그램이 들어왔을 때 메모리를 할당하지 못하는 현상이 발생
* 최초적합(first fit): 위쪽이나 아래쪽부터 시작해 홀을 찾으면 바로 할당
* 최적적합(best fit): 필요한 메모리 크기 이상인 공간 중 가장 작은 홀부터 할당
* 최악적합(worst fit): 프로세스의 크기와 가장 많이 차이가 나는 홀에 할당

# 2. 불연속 할당: 페이징, 세그멘테이션, 페이지드 세그멘테이션

## 불연속할당

* non-contiguous memory allocation 이란 메모리를 연속적으로 할당하지 않는 방법으로 현대 운영체제가 쓰는 방법
* 프로그램에 필요한 메모리를 쪼개어 서로 다른 위치에 있는 메모리 공간에 할당

### 페이징

* memory paging 은 동일한 크기(보통 4kb)의 페이지 단위로 나누어 메모리의 서로 다른 위치에 프로세스를 할당
* 홀의 크기가 균일하지 않은 문제가 발생하지 않지만, 주소 변환을 페이지별로 해야하기 때문에 주소 변환이 복잡해지는 단점이 있음
* 예를 들어, 4kb짜리 프로세스를 2kb, 2kb 이러헥 똑같은 크기로 나눠서 할당할 수 있기 때문에 외부단편화가 해결되지만 내부단편화가 생길 수 있음

### 세그먼테이션

* memory segmentation 은 페이지 단위가 아닌 의미 단위인 세그먼트로 나누는 방식
* 프로세스는 코드, 데이터, 스택, 힙으로 나누어져서 메모리가 할당됨
    * 코드와 데이터 또는 코드와 스택 등으로 나눌 수 있으며 함수 단위로 나눌 수도 있음을 의미
* 공유와 보안 측면에서 좋지만 홀 크기가 균일하지 않게 됨
* 내부단편화가 해결될 수 있지만 외부단편화가 일어날 수 있음

### 페이지드 세그먼테이션

* paged segmentation or segmentation with paging 은 세그먼테이션으로 나누되 해당 세그먼테이션을 동일한 크기의 페이지로 나누는 방법